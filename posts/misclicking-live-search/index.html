<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Misclicking Live Search - Maxwell Forbes</title>
        
        <meta content="Misclicking Live Search - Maxwell Forbes" property="title"/>
        <meta content="Misclicking Live Search - Maxwell Forbes" property="og:title"/>
        <meta name="twitter:title" content="Misclicking Live Search - Maxwell Forbes"/>

        <link href='/assets/img/fav.png' rel='shortcut icon'>
<link href='/assets/css/tachyons.min.css' rel='stylesheet' type='text/css'/>
<link href='/assets/css/style.css' rel='stylesheet' type='text/css'/>
<link href='/assets/css/syntax/prism.default.css' rel='stylesheet' type='text/css'/>



    
    <meta content='https://maxwellforbes.com/posts/misclicking-live-search/' property='og:url'/>
    
        <meta content='https://maxwellforbes.com/assets/posts/misclicking-live-search/cover.jpg' property='og:image'/>
        <meta name='twitter:image' content='https://maxwellforbes.com/assets/posts/misclicking-live-search/cover.jpg'/>
        <meta name='twitter:card' content='summary_large_image'/>
    
    <meta name='twitter:site' content='@maxforbes'/>
    
        
        <meta content="This post is about problems with search-as-you-type features, like search on an iPhone or Spotlight on macOS. An Example..." property='og:description'/>
        <meta name='twitter:description' content="This post is about problems with search-as-you-type features, like search on an iPhone or Spotlight on macOS. An Example..."/>
    
    <meta content="article" property="og:type"/>




    </head>

    <body class="lh-copy near-black pa0 f5 f4-ns sans-serif">
        

  <div class="mw7 mt3 mt4-ns mb3 center">

    <nav class="mh3 mh4-ns pv3 flex" aria-label="Main">
      <div class="w-50 tl">
        <a href="/" class="hover dim black" id="header">Maxwell Forbes</a>
      </div>
      <div class="w-50 tr">
        
          
          
            <a class="link hover-mid-gray ml3 pv1" href="/studio">
              Studio
            </a>
          
        
          
          
            <a class="link hover-mid-gray ml3 pv1" href="/research">
              Research
            </a>
          
        
      </div>
    </nav>

    <div class="mh3 mh4-ns bt b--black-80"></div>

    <main class="tl relative ph3 ph4-ns pt4 pb2 paddingOverride">
      
        <div class="mb4">
          
          
            <div class="fw600 light-silver mt1 ttu">
              
                18 Oct 2021
              
            </div>
          

          
          <h1 class="ttu tracked f3 f2-ns mt0 lh-title cb mb2">
              Misclicking Live Search
          </h1>
          
            <p class="gray subtitle f4 f3-ns">
              Breaking Latency Assumptions
            </p>
          

        </div>
      

      
      

      <div class="markdown-body">
        <p><object id="cover" type="image/svg+xml" data="/assets/posts/misclicking-live-search/cover.svg"></object></p>
<p>This post is about problems with search-as-you-type features, like search on an iPhone or Spotlight on macOS.</p>
<h2 id="an-example" tabindex="-1">An Example</h2>
<a class="dn" href="#an-example"><span class="dn">Permalink to “An Example”</span> <span aria-hidden="true">#</span></a><p>On my phone, I want to open Google Maps. So I swipe down and start typing “maps.” I get to “m” and search results start streaming in:</p>
<p><img src="/assets/posts/misclicking-live-search/searches-1.jpg" alt=""></p>
<p class="figcaption">Ah good, there it is, just let me...</p>
<p>As I finish typing “maps,” I notice where Google Maps is, so I start moving my big stupid slow finger to press it. But right before I touch the screen:</p>
<p><img src="/assets/posts/misclicking-live-search/searches-2.jpg" alt=""></p>
<p class="figcaption">I end up opening the settings page for Apple Maps, rather than the actual app for Google Maps.</p>
<p>This happened all the time when I had an iPhone 6. It was a shockingly bad experience right on the surface of multiple Apple products.</p>
<p>Of course, I knew the reason for it happening on my phone: it was too old. (I was still using my iPhone 6 up until the iPhone 11 came out.) They test all their stuff on newer phones, I’m sure, where the results latency is always very low. But the design does not degrade gracefully. When you phone is slower, your experience doesn’t just become slower, it actually causes errors.</p>
<h2 id="the-problem(s)" tabindex="-1">The Problem(s)</h2>
<a class="dn" href="#the-problem(s)"><span class="dn">Permalink to “The Problem(s)”</span> <span aria-hidden="true">#</span></a><p>There are actually two separate problems that might happen. The previous example was for problem #1. Both of the problems manifest in you selecting the wrong thing and getting grumpy.</p>
<ol>
<li>
<p><strong>Selecting too slow: updates during the physical act of selection.</strong> Search results update as you’re typing, but (inevitably) with some delay. So, the completions for a prefix (like “Desk”) are different than for the full query (like “Desktop”). This causes problems if you go to select on something from a <em>partial completion,</em> but the results update right before you press/click because of more text you typed.</p>
<p>This issue also happens due to search results coming from the Internet. They arrive after your local (on-device) search results. And they rearrange your local search results. So, you finish typing, see the device results for the full query, and go to tap on something. But then, right before you tap on it, Internet results come in and replace the thing you’re going to pick, and you end up selecting on something completely different.</p>
</li>
<li>
<p><strong>Selecting too fast: old results present after completing a query.</strong> You want to click something from a <em>full completion,</em> and you know what the completion will be. For example, you know from past experience that the top hit for “Desktop” will be opening your Desktop folder. So you type in “Desktop” and immediately press Enter. But, the list still has results from some partial completion for about a second after you finish typing. So if you just type and press Enter, you will pick one of the old results.</p>
</li>
</ol>
<p>I used to hit problem #2 almost daily with macOS Spotlight (<code>cmd+space</code>), the search function I use to open basically everything on my computer.</p>
<p>This is all bizarre to me because Apple usually does a great job with most interface stuff. I’m surprised to find something this consistently bad.</p>
<h2 id="the-design-problem" tabindex="-1">The Design Problem</h2>
<a class="dn" href="#the-design-problem"><span class="dn">Permalink to “The Design Problem”</span> <span aria-hidden="true">#</span></a><p>First I was annoyed at this,</p>
<p>Then, I was still annoyed at this, but had to admit, “OK, that’s a hard design problem.”</p>
<p>You want to display some kind of results as quickly as possible so the user isn’t waiting around. But you must plan around variable latency. Even if you somehow cache everything on the phone and can guarantee those matches are quick, once you include Internet material, you simply must to plan for some results to come back with higher latency.</p>
<p>Here are some half-baked ideas.</p>
<ol>
<li>
<p><strong>Display nothing during typing.</strong> Have some fixed delay before anything is shown. If the user starts editing the query again, remove all the results until they’ve stopped, wait the delay, and then show the new list.</p>
<p>This would be annoying because it would be slow. Maybe you could let people explicitly tap/press Enter to get results more quickly.</p>
</li>
<li>
<p><strong>Display slow results in separate sections.</strong> Have latency guarantees for different categories of results. For slow stuff like Internet searches, don’t let those results change the ordering of the fast results.</p>
</li>
</ol>
<p>You could combine ideas 1 and 2. If you can be sure that one section will update fast enough nobody will select a stale one, you can display it early. However, for something like Spotlight, where the top result may be slow (Internet) or fast (local on your computer), the section-based idea wouldn’t help.</p>
<h2 id="epilogue" tabindex="-1">Epilogue</h2>
<a class="dn" href="#epilogue"><span class="dn">Permalink to “Epilogue”</span> <span aria-hidden="true">#</span></a><p>When I first wrote this, I was using an iPhone 6 and a Macbook Pro from 2015. Now, I’m using a newer iPhone and newer Macbook Pro. I don’t have these issues.</p>
<p>Have they fixed the design? Or have I just graduated back into the expensive class of blissful ignorance?</p>
<script src="/assets/lib/anime-3.2.1.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('cover').addEventListener("load", function() {
            const diagram = document.getElementById('cover').contentDocument;
            const spacing = 182;
            const duration = 5000;
            anime({
                targets: [...diagram.querySelectorAll("#g1 *")],
                keyframes: [
                    {translateY: spacing},
                    {translateY: spacing*2},
                    {translateY: 0},
                ],
                easing: 'easeOutElastic(1, .8)',
                duration: duration,
                // delay: 500,
                loop: true,
            });
            anime({
                targets: [...diagram.querySelectorAll("#g2 *")],
                keyframes: [
                    {translateY: -spacing},
                    {translateY: 0},
                    {translateY: 0},
                ],
                easing: 'easeOutElastic(1, .8)',
                duration: duration,
                // delay: 500,
                loop: true,
            });
            anime({
                targets: [...diagram.querySelectorAll("#g3 *")],
                keyframes: [
                    {translateY: 0},
                    {translateY: -spacing*2},
                    {translateY: 0},
                ],
                easing: 'easeOutElastic(1, .8)',
                duration: duration,
                // delay: 500,
                loop: true,
            });
        });
    });
</script>

      </div>

      
      

      
      <!-- <hr /> -->
<!-- <div class="bt b--black-80 mt4"></div> -->
<div class="ba b--black-80 mt5 f6 f5-ns">
    <form style="text-align:center;" action="https://tinyletter.com/mbforbes" method="post" target="popupwindow"
        onsubmit="window.open('https://tinyletter.com/mbforbes', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <p class="tc b">
            Monthly project and essay digest
        </p>
        <p class="tc measure center">
            <label for="tlemail">
                I send a summary every month of my new projects and essays.
                No spam, just me, Max. Unsub whenever.
            </label>
        </p>
        <p class="mb1">
            <input type="text" style="width:200px" name="email" id="tlemail" placeholder="your email"/>
            <input type="hidden" value="1" name="embed"/><input type="submit" value="Get on the list"/>
        </p>
        <p class="mt0 f7 f6-ns">
            <!-- via -->
            <img src='/assets/img/TinyLetter_Wordmark.png' style="height: 22px;"/>
        </p>
    </form>
</div>


      
      
    </main>
  </div>
  <footer class="mt5 f6 f5-ns mw7 center tc pt2 pb4 silver">
    <div class="mh3 mh4-ns bt b--silver mb1"></div>
    <a href="/about/" class="link silver hover-blue pv1">
      about me
    </a>
    | orig theme is
    <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>
    <!-- <img src="https://maxwellforbes.com/data/img/scribble2.png" alt="scribble" class="mt4 db center" /> -->
  </footer>

  
  <script>
    // settings
    let periods = 0.5;
    let baseDelay = 1; // s
    let charDelay = 0.1; // s
    let duration = 0.70; // s
    let startW = 400; // w
    let mag = 400; // +/- w
    let refresh = 0.016667; // s

    // computed vals
    let frames = duration / refresh;

    // state
    let updaters = [];
    let frameNs = [];

    function fontWeighter(idx) {
      frameNs[idx] += 1;
      let x = (frameNs[idx] / frames) * periods * 2 * Math.PI;
      let w = Math.round(startW + mag * Math.sin(x));
      document
        .getElementById("header")
        .children[idx]
        .style
        .fontWeight = w;
      if (frameNs[idx] >= frames) {
        clearInterval(updaters[idx]);
      }
    }

    function wave() {
      // replace the string w/ elements. i write it as a string to start because i
      // couldn't get vscode's html formatter (using one for nunjucks) to not split
      // span elements each onto their own lines, which caused spaces between each
      // letter.
      let header = document.getElementById("header");
      let name = header.innerText;
      let els = [];
      for (let i = 0; i < name.length; i++) {
        let el = document.createElement("span");
        el.innerText = name[i];
        els.push(el);
      }
      header.innerText = '';
      header.append(...els);

      for (let i = 0; i < els.length; i++) {
        frameNs.push(0);
        setTimeout(() => {
          updaters.push(setInterval(fontWeighter.bind(null, i), refresh * 1000));
        }, (baseDelay + charDelay * i) * 1000);
      }
    }

    wave();
  </script>


    </body>

</html>
