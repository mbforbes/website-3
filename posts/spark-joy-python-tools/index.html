<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Decluttering with Tools - Maxwell Forbes</title>
        <!-- NOTE: Twitter uses name='', og uses property='' -->
        <meta content="Decluttering with Tools - Maxwell Forbes" property="title"/>
        <meta content="Decluttering with Tools - Maxwell Forbes" property="og:title"/>
        <meta name="twitter:title" content="Decluttering with Tools - Maxwell Forbes"/>

        <link href='/website-3/assets/img/fav.png' rel='shortcut icon'>
<link href='/website-3/assets/css/tachyons.min.css' rel='stylesheet' type='text/css'/>
<link href='/website-3/assets/css/style.css' rel='stylesheet' type='text/css'/>
<link href='/website-3/assets/css/syntax/prism.default.css' rel='stylesheet' type='text/css'/>

<!-- NOTE: Twitter uses name='', og uses property='' -->

    <meta content='https://maxwellforbes.com/posts/spark-joy-python-tools/' property='og:url'/>
    
        <meta content='/website-3/assets/posts/spark-joy-python/spark-joy-python-wide.jpg' property='og:image'/>
        <meta name='twitter:image' content='/website-3/assets/posts/spark-joy-python/spark-joy-python-wide.jpg'/>
        <meta name='twitter:card' content='summary_large_image'/>
    
    <meta name='twitter:site' content='@maxforbes'/>
    
        <meta content="" property='og:description'/>
        <meta name='twitter:description' content=""/>
    
    <meta content="article" property="og:type"/>

<!-- - -->



    </head>

    <body class="lh-copy near-black pa0 f5 f4-ns sans-serif">
        

  <div class="mw7 mt3 mt4-ns mb3 center">

    <nav class="mh3 mh4-ns pv3 flex" aria-label="Main">
      <div class="w-50 tl">
        <a href="/website-3/" class="hover dim black" id="header">Maxwell Forbes</a>
      </div>
      <div class="w-50 tr">
        
          <!-- If you're on that page, don't show as a link. -->
          
            <a class="link hover-mid-gray ml3 pv1" href="/website-3/studio">
              Studio
            </a>
          
        
          <!-- If you're on that page, don't show as a link. -->
          
            <a class="link hover-mid-gray ml3 pv1" href="/website-3/research">
              Research
            </a>
          
        
      </div>
    </nav>

    <div class="mh3 mh4-ns bt b--black-80"></div>

    <main class="tl relative ph3 ph4-ns pt4 pb2 paddingOverride">
      
        <div class="mb4">
          <!-- Date -->
          
            <div class="fw600 light-silver mt1 ttu">
              
                20 Jul 2020
              
            </div>
          

          <!-- Title -->
          <h1 class="ttu tracked f3 f2-ns mt0 lh-title cb mb2">
            <!-- Kind of a hack for page title in a series of posts (e.g., sparking joy w/ python) -->
            
              Decluttering with Tools
            
          </h1>
          

        </div>
      

      <!-- Series header. -->
      
        <div class="ba b--black-80 mv5">
    <p class="bg-black-80 white mv0 pv2 ph3 b">
        <span class="fr ttu tracked dib white-60 f6 f5-ns">series</span>
        Sparking Joy with Python
    </p>

    <div class="pa3">
        
        <ol class="ma0">
            
                <li class="">
                    
                        <a href="/posts/spark-joy-python-why/" class="db pv1 link">
                            Why
                        </a>
                    
                </li>
            
                <li class="">
                    
                        <a href="/posts/spark-joy-python-static-typing/" class="db pv1 link">
                            Static Typing Is the Key to Joy
                        </a>
                    
                </li>
            
                <li class="">
                    
                        <span class="b">
                            Decluttering with Tools
                        </span>
                    
                </li>
            
                <li class="">
                    
                        <a href="/posts/spark-joy-python-conventions/" class="db pv1 link">
                            Conventions Are Small Magic
                        </a>
                    
                </li>
            
        </ol>

    </div>
</div>

      

      <div class="markdown-body">
        <p><img src="/website-3/assets/posts/spark-joy-python/spark-joy-python-narrow.jpg" alt="Marie Kondo holding up the python logo"></p>
<p class="figcaption">
Adapted from
<a href="https://www.flickr.com/photos/riseconf/27113243380/in/album-72157668861374906/">
photo by RISE</a>,
CC BY 2.0.
</p>
<p>Use a code formatter to wash away all of your stupid opinions about how your code should look. Ditch linters. Debug with a REPL. Use a newer language. And pick an editor that works on your servers. Ahh.</p>
<h2 id="black" tabindex="-1">Black</h2>
<a class="dn" href="#black"><span class="dn">Permalink to “Black”</span> <span aria-hidden="true">#</span></a><p>Do you ever try to align variables to function indentations?</p>
<pre class="language-python"><code class="language-python">check_this_call_out<span class="token punctuation">(</span>argument1<span class="token punctuation">,</span><br>                    here_is_arg2<span class="token punctuation">,</span><br>                    look_at_arg3<span class="token punctuation">)</span><br><br>oh_another<span class="token punctuation">(</span>slightly<span class="token punctuation">,</span><br>           different<span class="token punctuation">,</span><br>           indentation<span class="token punctuation">)</span><br><br>this_one_is_way_too_long_so<span class="token punctuation">(</span><br>    lets<span class="token punctuation">,</span> get<span class="token punctuation">,</span> back<span class="token punctuation">,</span> to<span class="token punctuation">,</span> basics<span class="token punctuation">,</span><br><span class="token punctuation">)</span><br></code></pre>
<p>When do you switch? Do you put trailing commas? When you start adding type annotations, things get even hairier.</p>
<p>My life improved when I stopped ever dealing with any of that crap. Enter <a href="https://github.com/python/black">Black</a>, a python formatter. Directly from their GitHub:</p>
<blockquote>
<p>By using it, you agree to cede control over minutiae of hand-formatting. In return, Black gives you speed, determinism, and freedom from pycodestyle nagging about formatting. You will save time and mental energy for more important matters.</p>
</blockquote>
<p>I’ve never minded python’s indentation-instead-of-braces style, but I have minded rearranging stuff around manually and thinking about when to put what where. After writing in Go for a while and similarly relinquishing formatting to <code>gofmt</code>, this comes as a welcome relief. Simply set up your editor to run your formatter when you save a file.<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<h2 id="ditch-linters" tabindex="-1">Ditch linters</h2>
<a class="dn" href="#ditch-linters"><span class="dn">Permalink to “Ditch linters”</span> <span aria-hidden="true">#</span></a><p>Every linter I have used whined about non-vital things. I have abandoned all such noise. Black declutters, mypy (from the previous post) tells me when things are truly wrong. (Sometimes.)</p>
<h2 id="code.interact(...)" tabindex="-1"><code>code.interact(…)</code></h2>
<a class="dn" href="#code.interact(...)"><span class="dn">Permalink to “code.interact(…)”</span> <span aria-hidden="true">#</span></a><p>Whenever, I don’t know what’s going on, I just drop in this line:</p>
<pre class="language-python"><code class="language-python">code<span class="token punctuation">.</span>interact<span class="token punctuation">(</span>local<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">**</span><span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>That line drops you into an interactive python prompt with the complete state of your program. (Don’t forget to <code>import code</code> before using.) I use it so much I made a button on my keyboard vomit out that whole line.</p>
<p>This single line joins together file-based programming (is there a better word for that?), with interactive experimentation. If you send it “end of file” (ctrl-D for me) your program keeps on running where it left off.</p>
<p>If you don’t have anything like this, it’s an immense help. I use it:</p>
<ul>
<li>
<p>when my program has <strong>a bunch of state</strong> that I want to play around with. Maybe there are variables that took a while to compute, or I’ve defined a lot of functions I want to try out.</p>
</li>
<li>
<p>when I’m <strong>writing the first draft</strong> of something. I always have some of those lines sprinkled throughout (to check on things), and one at the end of the program (so I can inspect the results so far)</p>
</li>
<li>
<p>when I’m neck-deep in a neural net and I want to <strong>check out tensor shapes and contents</strong> (assuming you’re using something like pytorch that lets you do that)</p>
</li>
<li>
<p>when there’s an an <strong>exception I don’t understand</strong>, I toss one beforehand</p>
</li>
</ul>
<p>If you’re already using grownup tools, that’s great, keep doing that. Here are some that are probably better but I’ve been too lazy to really figure out:</p>
<ul>
<li>
<p><code>pdb.set_trace()</code> — Launches a debugger, <strong>but</strong> you are now in a special prompt with a whole set of special debugger commands. There is probably one to send you into a REPL. But I always just want a REPL.</p>
</li>
<li>
<p><code>IPython.embed()</code> — I actually did figure this one out recently! (In other words, I learned how to really use IPython.) <strong>But</strong> this seems to explode when you have threads going on (like in a web server). <code>code.interact(...)</code> handled the same situation fine.</p>
</li>
<li>
<p>using breakpoints with an editor — seems great. <strong>But</strong> you have to figure out how to hook your editor up to Python, or figure out how to run python from within your editor. I tried this once, and my code ran way slower. So I never tried it again.</p>
</li>
</ul>
<h2 id="python-3" tabindex="-1">Python 3</h2>
<a class="dn" href="#python-3"><span class="dn">Permalink to “Python 3”</span> <span aria-hidden="true">#</span></a><p>I started writing this blog post so long ago that this idea was somewhat controversial. At this point, it seems pretty much accepted. Python 3 is smooth sailing. Strings just work, and you get support for cooler stuff like cleaner type annotation syntax. Here’s a <a href="http://ptgmedia.pearsoncmg.com/imprint_downloads/informit/promotions/python/python2python3.pdf">cheat sheet</a> if you need help.</p>
<h2 id="vs-code's-remote-development" tabindex="-1">VS Code’s Remote Development</h2>
<a class="dn" href="#vs-code's-remote-development"><span class="dn">Permalink to “VS Code’s Remote Development”</span> <span aria-hidden="true">#</span></a><p>For the first time, I have a twenty-first century editor that can edit code that lives on a remote server as well as my desktop.</p>
<p>For me, the editor is the lynchpin that holds together other joy-sparking tools:</p>
<ul>
<li>
<p>it runs <strong>mypy</strong> to tell me about errors I’ve made</p>
</li>
<li>
<p>it gives me type-aware <strong>autocomplete</strong> (sometimes) and shows me where functions and classes are defined (usually)<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
</li>
<li>
<p>it runs <strong>Black</strong> to format my code</p>
</li>
<li>
<p>it its filled with non-python-specific but still joy-sparking programming features like key binding support, color themes, a wide variety of plugins, a comprehensible but vast config system, and a development team that works on it constantly and seems to really give a damn.<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
</li>
</ul>
<p>It is such a joy to have a really solid editor that <em>just works</em> locally and remotely. I can’t tell you how many times I’ve played the “<code>git push</code> here and <code>git pull</code> there” game, <code>ssh</code>’d in for Emacs to change “just one little thing,” or spent hours trying to jurry rig mount filesystems that end up crashing my Mac so I could use Sublime. This all strikes me as one of those things programmers of the future will be shocked we took so long to figure out after inventing the Internet.</p>
<h2 id="summary" tabindex="-1">Summary</h2>
<a class="dn" href="#summary"><span class="dn">Permalink to “Summary”</span> <span aria-hidden="true">#</span></a><p>Pick few tools to help you with common tasks and declutter annoying ones.</p>
<!-- Sorry, I already hedged about this point in the intro, but I’m hedging more here. -->
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>There are also other Python formatters. My point isn’t that Black is the best, but just that you should use one. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://github.com/davidhalter/jedi">Jedi</a> really deserves credit here, as it’s doing the heavy lifting. I didn’t include it above because it’s not a conscious choice of mine, it’s just what VS Code picks by default. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Devs giving a damn is one step removed from directly sparking joy. But it shines through a product in myriad ways. You can really tell, and because of it the joy factor is significantly upped. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

      </div>

      <!-- Series footer. -->
      
        <div class="ba b--black-10 mv5">
    <p class="bg-near-white black-60 mv0 pv2 ph3 b">
        <span class="fr ttu tracked dib black-30 f6 f5-ns">series</span>
        Sparking Joy with Python
    </p>

    <div class="pa3 flex">
        <div class="w-50 ma0">
            
            
                <p class="b ttu tracked ma0 black-30 f7 f6-ns">&larr; previous</p>
                <a href="/posts/spark-joy-python-static-typing/" class=" ma0 link">2. Static Typing Is the Key to Joy</a>
            
        </div>
        <div class="w-50 ma0 tr">
            
            
                <p class="b ttu tracked ma0 black-30 f7 f6-ns">next &rarr;</p>
                <a href="/posts/spark-joy-python-conventions/" class=" ma0 link">4. Conventions Are Small Magic</a>
            
        </div>
    </div>
</div>

      

      <!-- Email box. -->
      <!-- <hr /> -->
<!-- <div class="bt b--black-80 mt4"></div> -->
<div class="ba b--black-80 mt5 f6 f5-ns">
    <form style="text-align:center;" action="https://tinyletter.com/mbforbes" method="post" target="popupwindow"
        onsubmit="window.open('https://tinyletter.com/mbforbes', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <p class="tc b">
            Monthly project and essay digest
        </p>
        <p class="tc measure center">
            <label for="tlemail">
                I send a summary every month of my new projects and essays.
                No spam, just me, Max. Unsub whenever.
            </label>
        </p>
        <p class="mb1">
            <input type="text" style="width:200px" name="email" id="tlemail" placeholder="your email"/>
            <input type="hidden" value="1" name="embed"/><input type="submit" value="Get on the list"/>
        </p>
        <p class="mt0 f7 f6-ns">
            <!-- via -->
            <img src='/website-3/assets/img/TinyLetter_Wordmark.png' style="height: 22px;"/>
        </p>
    </form>
</div>


      <!-- Garage footer. -->
      
    </main>
  </div>
  <footer class="mt5 f6 f5-ns mw7 center tc pt2 pb4 silver">
    <div class="mh3 mh4-ns bt b--silver mb1"></div>
    <a href="/website-3/about/" class="link silver hover-blue pv1">
      about me
    </a>
    | orig theme is
    <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>
    <!-- <img src="https://maxwellforbes.com/data/img/scribble2.png" alt="scribble" class="mt4 db center" /> -->
  </footer>

  <!-- The wave -->
  <script>
    // settings
    let periods = 0.5;
    let baseDelay = 1; // s
    let charDelay = 0.1; // s
    let duration = 0.70; // s
    let startW = 400; // w
    let mag = 400; // +/- w
    let refresh = 0.016667; // s

    // computed vals
    let frames = duration / refresh;

    // state
    let updaters = [];
    let frameNs = [];

    function fontWeighter(idx) {
      frameNs[idx] += 1;
      let x = (frameNs[idx] / frames) * periods * 2 * Math.PI;
      let w = Math.round(startW + mag * Math.sin(x));
      document
        .getElementById("header")
        .children[idx]
        .style
        .fontWeight = w;
      if (frameNs[idx] >= frames) {
        clearInterval(updaters[idx]);
      }
    }

    function wave() {
      // replace the string w/ elements. i write it as a string to start because i
      // couldn't get vscode's html formatter (using one for nunjucks) to not split
      // span elements each onto their own lines, which caused spaces between each
      // letter.
      let header = document.getElementById("header");
      let name = header.innerText;
      let els = [];
      for (let i = 0; i < name.length; i++) {
        let el = document.createElement("span");
        el.innerText = name[i];
        els.push(el);
      }
      header.innerText = '';
      header.append(...els);

      for (let i = 0; i < els.length; i++) {
        frameNs.push(0);
        setTimeout(() => {
          updaters.push(setInterval(fontWeighter.bind(null, i), refresh * 1000));
        }, (baseDelay + charDelay * i) * 1000);
      }
    }

    wave();
  </script>


    </body>

</html>
