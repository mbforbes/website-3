<!--
[4+ STAR HIT]
ROT (Rule-of-Thumb) Writing Task

This HIT: Each worker writes 1-5 rules-of-thumb.
(The situation could be an original passage from somewhere, or an edit.)

Turkers will:
- read context
- write up one or more rules-of-thumb to explain what's going on

Generate with:
    python -m sc.mturk.layout.rot
 -->

<!-- Enable responsive behavior on smaller screens -->
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport" />
<!-- <script type="text/javascript" src="http://livejs.com/live.js"></script> -->

<!--CSS Frameworks-->


<link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />


<!-- Visual Content -->
<section class="container" id="TaggingOfAnImage">

    <!--Instructions panel-->
    <div class="card bg-light mb-3">

        <!--Heading -->
        <a class="card-header" href="javascript:void(0);" id="collapseTriggerInstructions"
            start-hidden="true">
            <strong>Instructions</strong>
            <span class="collapseTextInstructions">(Click to expand/collapse)</span>
        </a>

        <!-- Content -->
        <div class="card-body" id="bodyInstructions">

            <!--Instruction text -->
            <h3 class="card-title">Instructions</h3>
            <p class="measure-wide lh-copy f5">
                Write rules-of-thumb to <span class="b">explain social norms to a computer!</span>
            </p>

            <p class="measure-wide lh-copy f5">
                I am collecting rules-of-thumb to help computers understand
                how we expect people to behave in society. <b>I want rules-of-thumb
                    that explain what we consider good and bad behavior.</b>
            </p>
            <p class="measure-wide lh-copy f5">
                You can <span class="b bg-yellow pa1">think of the computer like a five-year-old child who
                    doesn't know how the world works</span>.
                We have to explain the basics
                to them about what people think is right and wrong in society,
                and how our actions make other people feel.
            </p>

            <h4 class="mb1 mt4">Rule-of-thumb Requirements</h4>
            Remember the requirements for writing rules-of-thumb:

            <ul class="mt0 checklist">
                <li class="measure mt3">
                    <span class="b">&#9745; Explain the basics</span>. Like you're teaching a five-year-old child how
                    society works.
                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Judgment + action</span>. It must have a judgment. This
                    includes what's expected, normal, or OK. For example:

                    <ul class="checklist">
                        <li class="mt2">
                            <span class="bg-light-green pa1">
                                It's good to
                            </span>
                            <span class="examplebox">
                                take action against animal abuse.
                            </span>
                        </li>
                        <li class="mt2">
                            <span class="bg-light-red pa1">
                                It's rude to
                            </span>
                            <span class="examplebox">
                                call the cops on your friend.
                            </span>
                        </li>
                        <li class="mt2">
                            <span class="bg-gray white pa1">
                                It's expected that you
                            </span>
                            <span class="examplebox">
                                cover your mouth when you cough.
                            </span>
                        </li>
                        <li class="mt2">
                            <span class="examplebox">
                                Taking days off work when you're sick
                            </span>
                            <span class="bg-gray white pa1">
                                is OK.
                            </span>

                        </li>
                    </ul>


                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Self-contained</span>. It must be understandable on its own.
                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Inspired by the situation</span>.
                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Not too vague</span>. It should apply to more than just this situation. But
                    it shouldn't be too vague (e.g., "it's rude to treat others badly" is too vague).
                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Good grammar and punctuation</span>.
                </li>
                <li class="measure-wide mt3">
                    <span class="b">&#9745; Distinct ideas</span>. I love multiple rules-of-thumb that tackle different
                    angles and perspectives!
                </li>
            </ul>

            <!--
            <h3 class="card-title mt4">Examples</h3>

            <p class="measure-wide lh-copy f5 i mb1">
                <span class="b">Situation:</span> Calling the cops on my friend who forced her dogs on a vegan
                diet even though they were
                emaciated.
            </p>

            <ul>
                <li class="measure-wide">
                    <b>Rule-of-thumb:</b> Being concerned for an animal's welfare is the right thing to do.
                </li>
                <li class="measure-wide">
                    <b>Rule-of-thumb:</b> It's rude to call the cops on your friend.
                </li>
                <li class="measure-wide">
                    <b>Rule-of-thumb:</b> It's good to feed dogs meat because they're carnivores.
                </li>
            </ul>

            <p class="measure-wide lh-copy f5 i mb1 mt4">
                <span class="b">Situation:</span> Running the blender early in the morning when my roommates are
                sleeping.
            </p>

            <ul>

            <li class="measure-wide">
                <b>Rule-of-thumb:</b> It's rude to wake people up when they're sleeping.
            </li>
            </ul>
            -->

            <h4 class="mb1 mt4">Updates</h4>
            <ul>
                <li class="measure-wide">
                    <b>I'm now sending bonuses for additional ROTs</b>
                    that you write (beyond one per situation). Please continue to ensure
                    that each ROT is a distinct idea, not a rephrasing or negation of
                    another ROT!</li>
            </ul>
            <h4 class="mb1 mt4">FAQ</h4>
            <ul>
                <li class="measure-wide mt2">
                    <b>Don't provide the "inverse" of an ROT.</b> For example, if one ROT is "It's OK to do X,"
                    you <u>don't</u> need to write another ROT with "It's bad not to do X." We will think
                    about the "inverses" of ROTs in a future task!
                </li>
                <li class="measure-wide mt2">
                    <b>Make ROTs as 'generally applicable' as the idea allows.</b> For example, if the situation
                    involves
                    "swearing at your sister," and you want to write something like "It's rude to swear at your sister,"
                    consider instead writing "It's rude to swear at family members," or "It's rude to swear at others."
                    In
                    this case, the other person being "your sister" wasn't important for the main idea of ROT.
                </li>
                <li class="measure-wide mt2">
                    <b>Please aim for 2+ ROTs per situation!</b>
                    Try considering the perspectives of different people involved in the
                    situation. Also, try explaining really basic expectations we have in
                    society. Check the new Hall of Fame below for some examples! (And remember, I send bonuses after
                    every batch for additional ROTs!)
                </li>
                <li class="measure-wide mt2">
                    <b>Check out the hall-of-fame HITs (below) for great examples of ROTs!</b>
                    I added this in response
                    to feedback that it'd be good to have examples of great ROTs in the HIT itself.
                    Your wish is my command :-)
                </li>
                <li class="measure-wide mt2">
                    <b>Feel free to provide ROTs for "NSFW" or "dark" situations if you feel comfortable doing so.</b>
                    These NSFW / dark ROTs will still count towards your ROT totals and bonuses!
                    I didn't make them mandatory only because some folks don't feel comfortable
                    writing about NSFW / dark topics.
                </li>
                <li class="measure-wide mt2">
                    <b>If a situation is too unclear to think of ROTs, go ahead and mark the "Unclear" box. Don't sweat
                        it!</b>
                    In general, I never plan to de-qual, reject, or block based on using
                    the "Unclear" box. It's meant to help you! Sometimes the data I'm
                    using as a source for the situations simply has bad or confusing sentences.
                    Of course, many workers find
                    ways to still write great ROTs for potentially vague situations,
                    which is awesome if you can!
                </li>
                <li class="measure-wide mt2"><span class="bg-yellow black b br-pill dib ph2">NEW</span>
                    <b>More Hall of Fame examples added!</b>
                    The new ones don't have my color commentary. But I thought it would be
                    helpful to provide more examples for those intent on writing
                    great ROTs and bumping up their star rating :-)
                </li>

            </ul>

            <p class="measure-wide lh-copy f6 i mt4 mb0">
                Please note: Current employees or students of the University
                of Washington are not eligible to complete this HIT.
            </p>

        </div>
    </div>

    <!--HallOfFame panel-->
    <div class="card bg-light mb-3">

        <!--Heading -->
        <a class="card-header" href="javascript:void(0);" id="collapseTriggerHallOfFame" start-hidden="true">
            <strong>Hall of Fame Examples</strong>
            <span class="collapseTextHallOfFame">(Click to expand/collapse)</span>
        </a>

        <!-- Content -->
        <div class="card-body" id="bodyHallOfFame">

            <!--Instruction text -->
            <h3 class="card-title">Hall of Fame Examples</h3>
            <p class="measure-wide lh-copy f5">
                These ROTs do a great job of following all of the ROT guidelines. But even more,
                they break down the situation into fundamental ideas and explain them like you would explain to a
                five-year-old child.
            </p>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4"><b>Situation:</b> not wanting to give my nephews front line seats for a
                music
                festival ill be
                preforming
                at</p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">It's understandable to not want young children at events for adults.
                </li>

                <li class="measure-wide examplebox">It's acceptable to give your friends gifts instead of giving them to
                    your
                    family members.</li>
                <li class="measure-wide examplebox">It's hurtful to not include family members in your big events.</li>
            </ul>
            <blockquote class="ml0 mt0 pl4 black-90 bl bw2 measure-wide b--green">
                <p class="b mb0">Why are they great?</p>
                <p class="mt0">
                    I love these ROTs because they look at multiple perspectives: (1) people going to the
                    event, (2) the narrator, (3) the others involved (the nephews who
                    didn't get tickets). The ROTs also break down the basics: they would
                    help a five-year-old child understand how adults would judge the
                    actions in this situation.
                </p>
            </blockquote>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                yelling at some kids for not including my disabled daughter in play
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    You shouldn't yell at other people's kids.
                </li>

                <li class="measure-wide examplebox">
                    It's fine to get mad at others if they do something that disrespects your family.
                </li>
                <li class="measure-wide examplebox">
                    It's wrong to not include disabled people in events.
                </li>
            </ul>
            <blockquote class="ml0 mt0 pl4 black-90 bl bw2 measure-wide b--green">
                <p class="b mb0">Why are they great?</p>
                <p class="mt0">
                    I love these ROTs because they clearly explore several angles in the
                    situation. They explain (1) the potential problem of yelling at kids,
                    but also (2) a case when anger is justified, and (3) the bigger moral
                    issue at stake.
                </p>
            </blockquote>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                being disappointed that my boyfriend is taking me out to eat instead of giving me a Christmas present
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    It's expected that you give your significant other a special present for Christmas.
                </li>

                <li class="measure-wide examplebox">
                    It's okay to feel bad if your significant other didn't get you what you want on a special occasion.
                </li>
                <li class="measure-wide examplebox">
                    It is expected that you know what your significant other prefers on a special occasion.
                </li>
            </ul>
            <blockquote class="ml0 mt0 pl4 black-90 bl bw2 measure-wide b--green">
                <p class="b mb0">Why are they great?</p>
                <p class="mt0">
                    I love these ROTs because they reveal several closely related <i>but distinct</i> expectations.
                    They untangle three ideas: (1) many of us expect
                    gifts on Christmas; (2) that if you don't get what you want from
                    your SO for a special occasion (maybe even beyond Christmas), you're actually justified in feeling a
                    little bad; (3) if you're
                    dating someone, we expect you know their preferences for presents.
                    There's a lot of nuance here, without the ROTs overlapping.
                </p>
            </blockquote>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                telling a furniture salesmen I just wanted to look around the store
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    It is okay to feel pressured by salesmen.
                </li>
                <li class="measure-wide examplebox">
                    It is understandable that sales people are just doing their job.
                </li>
                <li class="measure-wide examplebox">
                    It is rude to refuse help.
                </li>
                <li class="measure-wide examplebox">
                    It is okay to want to shop in peace.
                </li>
            </ul>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                trashing my coworkers mugs and dishes when they leave it soaking in the community sink
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    You shouldn't leave dirty dishes in a shared sink.
                </li>
                <li class="measure-wide examplebox">
                    You shouldn't destroy someone else's property.
                </li>
                <li class="measure-wide examplebox">
                    It's good to clean up after yourself at work.
                </li>
                <li class="measure-wide examplebox">
                    It's understandable to want to leave a dirty dish to soak for a bit.
                </li>
            </ul>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                pretending to be gay to break up with my ex girlfriend
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    It's wrong to pretend to be something you're not.
                </li>
                <li class="measure-wide examplebox">
                    You're expected to be honest and direct with someone you are close to.
                </li>
                <li class="measure-wide examplebox">
                    It's okay to break up with a significant other.
                </li>
            </ul>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                blaming and hating my father for my mother's passing
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    You can be expected to be upset at your mother's death.
                </li>
                <li class="measure-wide examplebox">
                    It's wrong to hate your father for something he had no control over.
                </li>
                <li class="measure-wide examplebox">
                    Children should speak with their parents about their problems instead of blaming them.
                </li>
            </ul>

            <hr class="mt4" />

            <p class="mb0 measure-wide mt4">
                <b>Situation:</b>
                telling a guy in the Navy that I don't want to go on a date anymore after getting to know him
            </p>
            <p class="b mt0 mb0">ROTs:</p>
            <ul>
                <li class="measure-wide examplebox">
                    It is important to be honest with people if you are not interested in dating them.
                </li>
                <li class="measure-wide examplebox">
                    Refusing a date after getting to know someone is rude.
                </li>
                <li class="measure-wide examplebox">
                    You are allowed to choose who you spend your time with.
                </li>
            </ul>

        </div>
    </div>

    <!-- Question -->
    <div class="card bg-light mb-3">

        <!--Heading -->
        <a class="card-header">
            <strong>Task</strong>
        </a>

        <!-- Content -->
        <div class="card-body">
            <p class="ttu tracked fw3 f5 mb1">
                write rules-of-thumb
            </p>
            <p class="lh-copy measure-wide f5 mt0">
                Please write <span class="b">2 - 5 rules-of-thumb</span> inspired by the situation.
            </p>

            <p class="lh-copy measure-wide f4">
                <span class="b bg-yellow pa1 br-pill">
                    I'm looking for multiple rules-of-thumb that explain different angles and perspectives.
                </span>
                It's vital that ROTs are not re-phrasings of the same idea. Instead, consider different
                viewpoints in the situation. What is OK or expected? What is good or kind? What is bad or rude?
            </p>

            <p class="lh-copy measure-wide f5">
                If the situation is too simple, vague, or confusing to think of
                any rules-of-thumb, please instead check the "unclear" box below.</p>

            

            <p class="ttu tracked fw3 f5 mb0 mt4">Situation</p>
            <p class="f3 i mt0">${situation}</p>

            <p class="mb0">Rule-of-thumb 1</p>
            <textarea id="rot-1" name="rot-1" class="mf-textarea"></textarea>
            <div class="mb3"></div>

            <p class="mb0">Rule-of-thumb 2
                <!-- <span class="i">(optional)</span> -->
            </p>
            <textarea id="rot-2" name="rot-2" class="mf-textarea"></textarea>
            <div class="mb3"></div>

            <p class="mb0">Rule-of-thumb 3
                <!-- <span class="i">(optional)</span> -->
            </p>
            <textarea id="rot-3" name="rot-3" class="mf-textarea"></textarea>
            <div class="mb3"></div>

            <p class="mb0">Rule-of-thumb 4
                <!-- <span class="i">(optional)</span> -->
            </p>
            <textarea id="rot-4" name="rot-4" class="mf-textarea"></textarea>
            <div class="mb3"></div>

            <p class="mb0">Rule-of-thumb 5
                <!-- <span class="i">(optional)</span> -->
            </p>
            <textarea id="rot-5" name="rot-5" class="mf-textarea"></textarea>
            <div class="mb3"></div>

            <hr />
            Please check all that apply.

            <ul class="inputs">
                <li><input type="checkbox" name="nsfw" class="addl" /> <span class="b">NSFW</span> — The
                    situation contains suggestive or adult content. (Feel free to still write ROTs if you check this
                    box, if you're comfortable doing so!)</li>
                <li><input type="checkbox" name="simple" class="addl" /> <span class="b">Unclear</span> — The
                    situation was too simple, vague, or confusing to understand what happened. I can't write any
                    rules-of-thumb for it.</li>
                <li><input type="checkbox" name="dark" class="addl" /> <span class="b">Dark / disturbing /
                        controversial</span> — The situation contained content that may make
                    folks uncomfortable, like suicide, torture, or abuse.
                </li>
            </ul>

            <!-- Metadata -->
            <!-- source-id is a SC unique ID that allows us to trace the situation to its source (scraping, edit, etc) -->
            <input name="source-id" type="hidden" value="${source-id}" />
            <input type="hidden" name="te" value="-1">
        </div>
    </div>



    <!-- Feedback -->
    <div class="card bg-light mb-3">

        <!--Heading -->
        <a class="card-header" href="javascript:void(0);" id="collapseTriggerFeedback" start-hidden="true">
            <strong>Optional Feedback </strong>
            <span class="collapseTextFeedback">(Click to expand/collapse)</span>
        </a>

        <!-- Content -->
        <div class="card-body" id="bodyFeedback">

            <!--Motivation text -->
            <h3 class="card-title">Optional Feedback</h3>
            <p class="measure-wide lh-copy f5">
                If you have any feedback about improving this task, you can let
                me know here! Completely optional / not required.
            </p>
            <textarea id="feedback" name="feedback" class="mf-textarea"></textarea>
        </div>
    </div>

    <div class="shadowCard">
        <input type="submit" id="submitButton" class="pa2 mt2 mb4 b white bg-gold" value="Submit">
    </div>

</section>

<!-- Open internal style sheet -->
<style type="text/css">
    body {
        font-family: Arial, Helvetica, sans-serif;
        color: #212529;
        line-height: 1.5;
    }

    .container {
        padding-left: 3rem;
        padding-right: 3rem;
        padding-bottom: 3rem;
    }

    .card {
        margin: 1rem;
        background-color: #f8f9fa;
        border: 1px solid #d9dadb;
        border-radius: 4px;

        max-width: 1140px;
        margin-left: auto;
        margin-right: auto;
    }

    .shadowCard {
        margin: 1rem;

        max-width: 1140px;
        margin-left: auto;
        margin-right: auto;
    }

    .card-header {
        width: 100%;
        background-color: rgba(0, 0, 0, .03);
        text-decoration: none;
        padding: .75rem 1.25rem;
        border-bottom: 1px solid #d9dadb;
        display: flex;
    }

    a.card-header {
        color: #157ffb
    }

    a.card-header:hover {
        color: #0a4d99;
        text-decoration: underline;
    }

    .card-body {
        padding: 1rem;
    }

    .examplebox {
        background-color: #eee;
        padding: 3px;
        margin: 1px;
    }


    .checklist li {
        list-style-type: none;
    }

    .mf-feedback-prompt {
        margin-top: 100px;
        margin-bottom: 0px;
        font-style: italic;
    }

    .mf-edit {
        width: 100%;
        max-width: 500px;
        height: 80px;
        margin-top: 0px;
    }

    .mf-textarea {
        width: 100%;
        max-width: 500px;
        height: 80px;
        margin-top: 0px;
    }

    .mf-clarification {
        margin-top: -15px;
        color: #666;
        font-size: 10pt;
        font-weight: bold;
        font-style: italic;
    }

    .mf-clarification-2 {
        color: #666;
        font-size: 10pt;
        font-weight: bold;
        font-style: italic;
    }

    .mf-diff-q {
        margin-top: 50px;
    }

    .mf-good {
        /* color: green; */
        font-weight: bold;
    }

    .mf-bad {
        /* color: red; */
        font-weight: bold;
    }

    .mf-prompt {
        font-weight: bold;
        margin-bottom: 0px;
        margin-top: 1rem;
    }

    .mf-input {
        width: 100%;
        max-width: 800px;
    }

    .mf-p-header {
        font-size: 14px;
    }

    ul.inputs {
        padding-left: 10px;
    }

    .inputs li {
        /* float: left; */
        list-style-type: none;
        padding: 5px;
        margin-right: 10px;
    }

    input.addl {
        margin-right: 5px;
    }

    .f7 {
        font-size: 0.5 rem;
    }
</style>



<!-- Timeme -->
<script>
    (function () {
        var e, t;
        e = this, t = function () {
            var r = {
                startStopTimes: {},
                idleTimeoutMs: 3e4,
                currentIdleTimeMs: 0,
                checkStateRateMs: 250,
                active: !1,
                idle: !1,
                currentPageName: "default-page-name",
                timeElapsedCallbacks: [],
                userLeftCallbacks: [],
                userReturnCallbacks: [],
                trackTimeOnElement: function (e) {
                    var t = document.getElementById(e);
                    t && (t.addEventListener("mouseover", function () {
                        r.startTimer(e)
                    }), t.addEventListener("mousemove", function () {
                        r.startTimer(e)
                    }), t.addEventListener("mouseleave", function () {
                        r.stopTimer(e)
                    }), t.addEventListener("keypress", function () {
                        r.startTimer(e)
                    }), t.addEventListener("focus", function () {
                        r.startTimer(e)
                    }))
                },
                getTimeOnElementInSeconds: function (e) {
                    var t = r.getTimeOnPageInSeconds(e);
                    return t || 0
                },
                startTimer: function (e, t) {
                    if (e || (e = r.currentPageName), void 0 === r.startStopTimes[e]) r.startStopTimes[
                        e] = [];
                    else {
                        var n = r.startStopTimes[e],
                            i = n[n.length - 1];
                        if (void 0 !== i && void 0 === i.stopTime) return
                    }
                    r.startStopTimes[e].push({
                        startTime: t || new Date,
                        stopTime: void 0
                    }), r.active = !0, r.idle = !1
                },
                stopAllTimers: function () {
                    for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++) r.stopTimer(e[
                        t])
                },
                stopTimer: function (e, t) {
                    e || (e = r.currentPageName);
                    var n = r.startStopTimes[e];
                    void 0 !== n && 0 !== n.length && (void 0 === n[n.length - 1].stopTime && (n[n
                        .length - 1].stopTime = t || new Date), r.active = !1)
                },
                getTimeOnCurrentPageInSeconds: function () {
                    return r.getTimeOnPageInSeconds(r.currentPageName)
                },
                getTimeOnPageInSeconds: function (e) {
                    var t = r.getTimeOnPageInMilliseconds(e);
                    return void 0 === t ? void 0 : t / 1e3
                },
                getTimeOnCurrentPageInMilliseconds: function () {
                    return r.getTimeOnPageInMilliseconds(r.currentPageName)
                },
                getTimeOnPageInMilliseconds: function (e) {
                    var t = r.startStopTimes[e];
                    if (void 0 !== t) {
                        for (var n = 0, i = 0; i < t.length; i++) {
                            var s = t[i].startTime,
                                o = t[i].stopTime;
                            void 0 === o && (o = new Date), n += o - s
                        }
                        return Number(n)
                    }
                },
                getTimeOnAllPagesInSeconds: function () {
                    for (var e = [], t = Object.keys(r.startStopTimes), n = 0; n < t.length; n++) {
                        var i = t[n],
                            s = r.getTimeOnPageInSeconds(i);
                        e.push({
                            pageName: i,
                            timeOnPage: s
                        })
                    }
                    return e
                },
                setIdleDurationInSeconds: function (e) {
                    var t = parseFloat(e);
                    if (!1 !== isNaN(t)) throw {
                        name: "InvalidDurationException",
                        message: "An invalid duration time (" + e + ") was provided."
                    };
                    return r.idleTimeoutMs = 1e3 * e, this
                },
                setCurrentPageName: function (e) {
                    return r.currentPageName = e, this
                },
                resetRecordedPageTime: function (e) {
                    delete r.startStopTimes[e]
                },
                resetAllRecordedPageTimes: function () {
                    for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++) r
                        .resetRecordedPageTime(e[t])
                },
                resetIdleCountdown: function () {
                    r.idle && r.triggerUserHasReturned(), r.idle = !1, r.currentIdleTimeMs = 0
                },
                callWhenUserLeaves: function (e, t) {
                    this.userLeftCallbacks.push({
                        callback: e,
                        numberOfTimesToInvoke: t
                    })
                },
                callWhenUserReturns: function (e, t) {
                    this.userReturnCallbacks.push({
                        callback: e,
                        numberOfTimesToInvoke: t
                    })
                },
                triggerUserHasReturned: function () {
                    if (!r.active)
                        for (var e = 0; e < this.userReturnCallbacks.length; e++) {
                            var t = this.userReturnCallbacks[e],
                                n = t.numberOfTimesToInvoke;
                            (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t
                                .callback())
                        }
                    r.startTimer()
                },
                triggerUserHasLeftPage: function () {
                    if (r.active)
                        for (var e = 0; e < this.userLeftCallbacks.length; e++) {
                            var t = this.userLeftCallbacks[e],
                                n = t.numberOfTimesToInvoke;
                            (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t
                                .callback())
                        }
                    r.stopAllTimers()
                },
                callAfterTimeElapsedInSeconds: function (e, t) {
                    r.timeElapsedCallbacks.push({
                        timeInSeconds: e,
                        callback: t,
                        pending: !0
                    })
                },
                checkState: function () {
                    for (var e = 0; e < r.timeElapsedCallbacks.length; e++) r.timeElapsedCallbacks[e]
                        .pending && r.getTimeOnCurrentPageInSeconds() > r.timeElapsedCallbacks[e]
                            .timeInSeconds && (r.timeElapsedCallbacks[e].callback(), r.timeElapsedCallbacks[
                                e].pending = !1);
                    !1 === r.idle && r.currentIdleTimeMs > r.idleTimeoutMs ? (r.idle = !0, r
                        .triggerUserHasLeftPage()) : r.currentIdleTimeMs += r.checkStateRateMs
                },
                visibilityChangeEventName: void 0,
                hiddenPropName: void 0,
                listenForVisibilityEvents: function () {
                    void 0 !== document.hidden ? (r.hiddenPropName = "hidden", r
                        .visibilityChangeEventName = "visibilitychange") : void 0 !== document
                            .mozHidden ? (r.hiddenPropName = "mozHidden", r.visibilityChangeEventName =
                                "mozvisibilitychange") : void 0 !== document.msHidden ? (r.hiddenPropName =
                                    "msHidden", r.visibilityChangeEventName = "msvisibilitychange") : void 0 !==
                                    document.webkitHidden && (r.hiddenPropName = "webkitHidden", r
                                        .visibilityChangeEventName = "webkitvisibilitychange"), document
                                            .addEventListener(r.visibilityChangeEventName, function () {
                                                document[r.hiddenPropName] ? r.triggerUserHasLeftPage() : r
                                                    .triggerUserHasReturned()
                                            }, !1), window.addEventListener("blur", function () {
                                                r.triggerUserHasLeftPage()
                                            }), window.addEventListener("focus", function () {
                                                r.triggerUserHasReturned()
                                            }), document.addEventListener("mousemove", function () {
                                                r.resetIdleCountdown()
                                            }), document.addEventListener("keyup", function () {
                                                r.resetIdleCountdown()
                                            }), document.addEventListener("touchstart", function () {
                                                r.resetIdleCountdown()
                                            }), window.addEventListener("scroll", function () {
                                                r.resetIdleCountdown()
                                            }), setInterval(function () {
                                                r.checkState()
                                            }, r.checkStateRateMs)
                },
                websocket: void 0,
                websocketHost: void 0,
                setUpWebsocket: function (e) {
                    if (window.WebSocket && e) {
                        var t = e.websocketHost;
                        try {
                            r.websocket = new WebSocket(t), window.onbeforeunload = function () {
                                r.sendCurrentTime(e.appId)
                            }, r.websocket.onopen = function () {
                                r.sendInitWsRequest(e.appId)
                            }, r.websocket.onerror = function (e) {
                                console && console.log("Error occurred in websocket connection: " +
                                    e)
                            }, r.websocket.onmessage = function (e) {
                                console && console.log(e.data)
                            }
                        } catch (e) {
                            console && console.error("Failed to connect to websocket host.  Error:" + e)
                        }
                    }
                    return this
                },
                websocketSend: function (e) {
                    r.websocket.send(JSON.stringify(e))
                },
                sendCurrentTime: function (e) {
                    var t = {
                        type: "INSERT_TIME",
                        appId: e,
                        timeOnPageMs: r.getTimeOnCurrentPageInMilliseconds(),
                        pageName: r.currentPageName
                    };
                    r.websocketSend(t)
                },
                sendInitWsRequest: function (e) {
                    var t = {
                        type: "INIT",
                        appId: e
                    };
                    r.websocketSend(t)
                },
                initialize: function (e) {
                    var t = r.idleTimeoutMs || 30,
                        n = r.currentPageName || "default-page-name",
                        i = void 0,
                        s = void 0;
                    e && (t = e.idleTimeoutInSeconds || t, n = e.currentPageName || n, i = e
                        .websocketOptions, s = e.initialStartTime), r.setIdleDurationInSeconds(t)
                            .setCurrentPageName(n).setUpWebsocket(i).listenForVisibilityEvents(), r
                                .startTimer(void 0, s)
                }
            };
            return r
        }, "undefined" != typeof module && module.exports ? module.exports = t() : "function" ==
            typeof define && define.amd ? define([], function () {
                return e.TimeMe = t()
            }) : e.TimeMe = t()
    }).call(this);

    TimeMe.initialize({
        currentPageName: "task",
        idleTimeoutInSeconds: 30
    });

    // update debug display
    // setInterval(function () {
    //     document.getElementById('timing-debug').innerText = TimeMe.getTimeOnCurrentPageInSeconds();
    // }, 0.1);
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous">
    </script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous">
    </script>

<script>
    function str2bool(s) {
        return s === 'true';
    }

    $(document).ready(function () {
        let worklist = ['Instructions', 'HallOfFame', 'Motivation', 'Feedback']
        for (let w of worklist) {
            var content = $('#body' + w);
            var trigger = $('#collapseTrigger' + w);

            if (content == null || trigger == null) {
                continue;
            }

            if (str2bool(trigger.attr('start-hidden'))) {
                content.hide();
            }

            trigger.click(function () {
                $('#body' + w).toggle();
                let isVisible = $('#body' + w).is(':visible');
            });

        }

        $('#submitButton').click(function () {
            try {
                $('input[name=te]').attr('value', TimeMe.getTimeOnCurrentPageInSeconds());
            } catch {

            }

            // NOTE: Can add validation here if desired.
            return true;
        });

    });
</script>