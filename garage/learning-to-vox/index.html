<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Learning to vox - Maxwell Forbes</title>
        
        <meta content="Learning to vox - Maxwell Forbes" property="title"/>
        <meta content="Learning to vox - Maxwell Forbes" property="og:title"/>
        <meta name="twitter:title" content="Learning to vox - Maxwell Forbes"/>

        <link href='/website-3/assets/img/fav.png' rel='shortcut icon'>
<link href='/website-3/assets/css/tachyons.min.css' rel='stylesheet' type='text/css'/>
<link href='/website-3/assets/css/style.css' rel='stylesheet' type='text/css'/>
<link href='/website-3/assets/css/syntax/prism.default.css' rel='stylesheet' type='text/css'/>



    
    <meta content='https://maxwellforbes.com/garage/learning-to-vox/' property='og:url'/>
    
    <meta name='twitter:site' content='@maxforbes'/>
    
        
        <meta content="The software is fantastic, but challenging to learn. Even more challenging is learning the craft and improving the eye...." property='og:description'/>
        <meta name='twitter:description' content="The software is fantastic, but challenging to learn. Even more challenging is learning the craft and improving the eye...."/>
    
    <meta content="article" property="og:type"/>




    </head>

    <body class="lh-copy near-black pa0 f5 f4-ns sans-serif">
        

  <div class="mw7 mt3 mt4-ns mb3 center">

    <nav class="mh3 mh4-ns pv3 flex" aria-label="Main">
      <div class="w-50 tl">
        <a href="/website-3/" class="hover dim black" id="header">Maxwell Forbes</a>
      </div>
      <div class="w-50 tr">
        
          
          
            <a class="link hover-mid-gray ml3 pv1" href="/website-3/studio">
              Studio
            </a>
          
        
          
          
            <a class="link hover-mid-gray ml3 pv1" href="/website-3/research">
              Research
            </a>
          
        
      </div>
    </nav>

    <div class="mh3 mh4-ns bt b--black-80"></div>

    <main class="tl relative ph3 ph4-ns pt4 pb2 paddingOverride">
      
        <div class="mb4">
          
          
            <div class="fw600 light-silver mt1 ttu">
              
                <a href="/website-3/studio/#garage" class="light-silver hover-blue">GARAGE/</a>
              
            </div>
          

          
          <h1 class="ttu tracked f3 f2-ns mt0 lh-title cb mb2">
              Learning to vox
          </h1>
          

        </div>
      

      
      

      <div class="markdown-body">
        <p>The software is fantastic, but challenging to learn. Even more challenging is learning the craft and improving the eye.</p>
<p><img src="/website-3/assets/garage/learning-to-vox/27_BOF3Chicken.jpg" alt=""></p>
<p><img src="/website-3/assets/garage/learning-to-vox/28_CeramiChickens.jpg" alt=""></p>
<p>Even earlier work is already posted as sketches. But I need a workshop.</p>
<h2 id="importing" tabindex="-1">Importing</h2>
<a class="dn" href="#importing"><span class="dn">Permalink to “Importing”</span> <span aria-hidden="true">#</span></a><p>You can just drag’n’drop  a <code>.obj</code> file into MagicaVoxel to import it.</p>
<p>Need to paint, though. Importing material (<code>.mtl</code>) file didn’t do anything. Can import <code>.png</code> palette, but would need to construct anyway.</p>
<p><img src="/website-3/assets/garage/learning-to-vox/29_Importing-edited.jpg" alt=""></p>
<p class="figcaption">
<a href="https://free3d.com/3d-model/indoor-pot-plant-77983.html">
potted plant source
</a>
</p>
<h2 id="postprocessing-colors" tabindex="-1">Postprocessing Colors</h2>
<a class="dn" href="#postprocessing-colors"><span class="dn">Permalink to “Postprocessing Colors”</span> <span aria-hidden="true">#</span></a><p>Realized this a bit ago. Phone is great for this.</p>
<div class="flex mv4">
<img src="/website-3/assets/garage/learning-to-vox/29_Importing.jpg" class="bare mh2 w-50 flex-auto">
<img src="/website-3/assets/garage/learning-to-vox/29_Importing-edited.jpg" class="bare mh2 w-50 flex-auto">
</div>
<h2 id="layer-vs-outline" tabindex="-1">Layer vs Outline</h2>
<a class="dn" href="#layer-vs-outline"><span class="dn">Permalink to “Layer vs Outline”</span> <span aria-hidden="true">#</span></a><p>I think Layer doesn’t determine draw order, but Outline does.</p>
<p>Manipulating the order with the Outline is awkward. In World mode, you can move the selected model in the outline with “First”/“Last” buttons in the Order control area. But if you click on something in the outline to select it, you switch from World mode to Model mode, which removes the Order control area. And in World mode, you can’t see which model you have selected in the outline. This makes it hard to tell what the order is and if reordering is working. <strong>Naming your models (in Outline controls) helps this a lot.</strong></p>
<p>Use Outline ordering for stuff like underwater: rather than filling in gaps in a model, have a <em>later</em> node in the Outline w/ big block of water. Also have on a Layer, w/ visibility off, so you can freely edit other stuff.</p>
<p>I.e., Outline: models are drawn last to first. First is on top.</p>
<h2 id="shaders" tabindex="-1">Shaders</h2>
<a class="dn" href="#shaders"><span class="dn">Permalink to “Shaders”</span> <span aria-hidden="true">#</span></a><p>For me it’s not immediately obvious how to use them, sometimes even after reading about it.</p>
<ul>
<li><strong>Brush</strong>
<ul>
<li><code>grass</code> - shader mode (<code>c</code>), pick attach/erase/paint (probably attach), draw box, can still modify params</li>
</ul>
</li>
<li><code>sand</code> — Play</li>
<li><code>sand2</code> — Play</li>
<li><code>soil</code> — Play</li>
<li><code>soil_replace</code> — Play</li>
</ul>
<p>Qs:</p>
<ul>
<li><strong>Can we get shader selection back?</strong> I feel like MagicaVoxel has a more generous undo policy than many other programs. One example of this in my mind is that it counts (de)selection operations as actions that can be undone. However, this is exactly what I’m having trouble with: if I have a shader brush area that I’m editing, and I lose focus on it, I can’t undo to get it back. I end up having to remove it and start over to make edits. Maybe there’s a better way?</li>
</ul>
<h2 id="project-(3d-objects)-to-ground" tabindex="-1">Project (3D objects) to ground</h2>
<a class="dn" href="#project-(3d-objects)-to-ground"><span class="dn">Permalink to “Project (3D objects) to ground”</span> <span aria-hidden="true">#</span></a><p>Have different color voxels underneath, then run <code>drop</code> shader on color w/ 64 iterations. If multiple colors, run lowest to highest.</p>
<p>(Might be better shader or builtin for this that I haven’t found.)</p>
<h2 id="terrain" tabindex="-1">Terrain</h2>
<a class="dn" href="#terrain"><span class="dn">Permalink to “Terrain”</span> <span aria-hidden="true">#</span></a><p>Turns out Perlin noise is great, much nicer than what I can do by hand. Run shader <code>tergen</code> (or <code>tergen2</code> for selected area only).</p>
<p>Open Q: How to nicely generate terrain that spans multiple models (a “model” being 256³ voxels max)? Current approach was to try to do some hybrid of copying + re-generating + linking up manually, which was a royal pain and looks just OK. (But maybe at this point I’m hitting over-reliance on tools and should be okay with hand-clicking monotony.)</p>
<h2 id="underwater" tabindex="-1">Underwater</h2>
<a class="dn" href="#underwater"><span class="dn">Permalink to “Underwater”</span> <span aria-hidden="true">#</span></a><p><img src="/website-3/assets/garage/learning-to-vox/30_Underwater.jpg" alt=""></p>
<p>I experimented with the grass shader to make some underwater… uh… grass? Kelp? The kelp right on the boundary look weird—should make water extend 1 vox beyond.</p>
<p>Learned about <a href="#layer-vs-outline">layers and object order</a> in order to have water overlay without having to actually flood whole scene w/ water (and then delete every time changing base model). tl;dr: layer helpful for quickly enabling/disabling, but outline order determines render order.</p>
<p>Realized that completely flat terrain is weird, next draft tried to make varied terrain.</p>
<div class="flex mv4">
<img src="/website-3/assets/garage/learning-to-vox/31_Underwater-2.jpg" class="bare mh2 w-50 flex-auto">
<img src="/website-3/assets/garage/learning-to-vox/31_Underwater-2-nowater.jpg" class="bare mh2 w-50 flex-auto">
</div>
<p>Drawing ground terrain by hand. Hard to see—no water version.</p>
<p>Challenge now using grass shader: it wants to place on flat surface. <a href="#project-3d-objects-to-ground">Workaround</a> by placing in air, then repeatedly running “drop” shader from lowest to highest color.</p>
<p>Realized doing terrain by hand is kind of silly since there’s a shader that’s great at this.</p>
<p><img src="/website-3/assets/garage/learning-to-vox/32_Underwater-3.jpg" alt=""></p>
<p>The <a href="#terrain">terrain shaders</a> are great at doing nice terrain. (Frustratingly, even this one still doesn’t show it well; the water really obscures it.) But doing larger varied terrain like this involved terrible manual stitching, and still looks meh. Probably need different colors too.</p>
<p>I’m still frustrated by the look of the water. I tried many different combinations of:</p>
<ul>
<li>terrain voxel color</li>
<li>water voxel color</li>
<li>water voxel material properties</li>
<li>scene light properties (heading, pitch, area, color, intensity)</li>
</ul>
<p>… and it remains murky and flat looking.</p>
<p>I also realized, when considering working on this more, that filling even a moderately sized scene like this (it’s 4 models), is a massive amount of work. The colors, foliage, and terrain details alone would be a big undertaking. I want to work on smaller models and case studies first; it would feel like a slog to try filling it right now, and I want to have fun.</p>
<h2 id="character:-ryu-(bof-iii)" tabindex="-1">Character: Ryu (BoF III)</h2>
<a class="dn" href="#character:-ryu-(bof-iii)"><span class="dn">Permalink to “Character: Ryu (BoF III)”</span> <span aria-hidden="true">#</span></a><p>Look at this terrifying thing</p>
<p><img src="/website-3/assets/garage/learning-to-vox/33_Ryu-Too-Big.jpeg" alt=""></p>
<p><img src="/website-3/assets/garage/learning-to-vox/33_Ryu-Too-Big-zoom.jpeg" alt=""></p>
<p>I think I made him too big for the amount of detail I’m actually comfortable doing.</p>

      </div>

      
      

      
      <!-- <hr /> -->
<!-- <div class="bt b--black-80 mt4"></div> -->
<div class="ba b--black-80 mt5 f6 f5-ns">
    <form style="text-align:center;" action="https://tinyletter.com/mbforbes" method="post" target="popupwindow"
        onsubmit="window.open('https://tinyletter.com/mbforbes', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <p class="tc b">
            Monthly project and essay digest
        </p>
        <p class="tc measure center">
            <label for="tlemail">
                I send a summary every month of my new projects and essays.
                No spam, just me, Max. Unsub whenever.
            </label>
        </p>
        <p class="mb1">
            <input type="text" style="width:200px" name="email" id="tlemail" placeholder="your email"/>
            <input type="hidden" value="1" name="embed"/><input type="submit" value="Get on the list"/>
        </p>
        <p class="mt0 f7 f6-ns">
            <!-- via -->
            <img src='/website-3/assets/img/TinyLetter_Wordmark.png' style="height: 22px;"/>
        </p>
    </form>
</div>


      
      
        <p class="tr ttu black-30 fw6 f6 f5-ns mt5 mb0">garage entry metadata</p>
<table class="mv0 collapse ba br2 b--black-10 pv2 ph3 f6 f5-ns black-50 w-100">
    <tbody id="garage-metadata">
        <tr class="striped--near-white">
            <td class="pv2 ph3 ttu fw6">
                started
            </td>
            <td class="pv2 ph3 ttu">
                07 Nov 2021
            </td>
        </tr>

        
            <tr class="striped--near-white">
                <td class="pv2 ph3 ttu fw6">
                    updated
                </td>
                <td class="pv2 ph3 ttu">
                    30 Dec 2021
                </td>
            </tr>
        

        <tr class="striped--near-white">
            <td class="pv2 ph3 ttu fw6">
                disclaimer
            </td>
            <td class="pv2 ph3">
                This is an entry in
                
                    <a href="/website-3/garage/what-is-the-garage/" class="hover-dark-blue underline-hover">the garage</a>.
                
                It may change or disappear at any point.
            </td>
        </tr>
    </tbody>
</table>

<!-- Comments! -->
<script src="https://utteranc.es/client.js" repo="mbforbes/website-comments" issue-term="pathname" theme="github-light"
    crossorigin="anonymous" async>
    </script>

<!-- Link graph! -->
<script async>
    function addRow(name, graph, keys) {
        let links = [];
        for (let key of keys) {
            if (!(key in graph)) {
                console.warn("Skipping " + key + ", not found in link graph.")
                continue;
            }
            
            links.push(`<li><a href="${graph[key].url}" class="hover-dark-blue underline-hover">${graph[key].title}<a/></li>`);
        }
        if (links.length == 0) {
            return;
        }
        let row = document.createElement("tr");
        row.classList.add("striped--near-white");
        row.innerHTML = `
        <tr class="striped--light-gray">
            <td class="pv2 ph3 ttu fw6">
                ${name}
            </td>
            <td class="pv2 ph3 ${name}">
                <ul class="pl3 mv0">
                    ${links.join("\n")}
                </ul>
            </td>
        </tr>
        `
        document.getElementById("garage-metadata").appendChild(row);
    }

    async function renderLinks() {
        let resp = await fetch("/website-3/assets/garage/link_graph.json");
        if (!resp.ok) {
            return;
        }
        let graph = await resp.json();
        let current = "/garage/learning-to-vox/";
        if (!(current in graph)) {
            return;
        }
        addRow("inbound", graph, graph[current].incoming);
        addRow("outbound", graph, graph[current].outgoing);

    }
    renderLinks();
</script>

      
    </main>
  </div>
  <footer class="mt5 f6 f5-ns mw7 center tc pt2 pb4 silver">
    <div class="mh3 mh4-ns bt b--silver mb1"></div>
    <a href="/website-3/about/" class="link silver hover-blue pv1">
      about me
    </a>
    | orig theme is
    <a href="http://github.com/muan/scribble" class="link silver hover-blue pv1">Scribble</a>
    <!-- <img src="https://maxwellforbes.com/data/img/scribble2.png" alt="scribble" class="mt4 db center" /> -->
  </footer>

  
  <script>
    // settings
    let periods = 0.5;
    let baseDelay = 1; // s
    let charDelay = 0.1; // s
    let duration = 0.70; // s
    let startW = 400; // w
    let mag = 400; // +/- w
    let refresh = 0.016667; // s

    // computed vals
    let frames = duration / refresh;

    // state
    let updaters = [];
    let frameNs = [];

    function fontWeighter(idx) {
      frameNs[idx] += 1;
      let x = (frameNs[idx] / frames) * periods * 2 * Math.PI;
      let w = Math.round(startW + mag * Math.sin(x));
      document
        .getElementById("header")
        .children[idx]
        .style
        .fontWeight = w;
      if (frameNs[idx] >= frames) {
        clearInterval(updaters[idx]);
      }
    }

    function wave() {
      // replace the string w/ elements. i write it as a string to start because i
      // couldn't get vscode's html formatter (using one for nunjucks) to not split
      // span elements each onto their own lines, which caused spaces between each
      // letter.
      let header = document.getElementById("header");
      let name = header.innerText;
      let els = [];
      for (let i = 0; i < name.length; i++) {
        let el = document.createElement("span");
        el.innerText = name[i];
        els.push(el);
      }
      header.innerText = '';
      header.append(...els);

      for (let i = 0; i < els.length; i++) {
        frameNs.push(0);
        setTimeout(() => {
          updaters.push(setInterval(fontWeighter.bind(null, i), refresh * 1000));
        }, (baseDelay + charDelay * i) * 1000);
      }
    }

    wave();
  </script>


    </body>

</html>
